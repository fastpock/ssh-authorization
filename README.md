# ssh-authorization
Каждая пара ключей состоит из открытого и закрытого ключа. Секретный ключ сохраняется на стороне клиента и не должен быть доступен кому-либо еще. 
### Генерация ключей ssh:
`ssh-keygen`
Самый простой способ скопировать ключ на удаленный сервер - это использовать утилиту ssh-copy-id. Она тоже входит в пакет программ OpenSSH. Но для работы этого метода вам нужно иметь пароль доступа к серверу по SSH. 
### Синтаксис команды:
`ssh-copy-id username@remote_host`
Еси не сработает команда, то небходимо подключится к удаленному серверу, а затем использует содержимое ключа id.rsa.pub для загрузки его на сервер в файл ~/.ssh/authorized_keys.
## Настройка сервера SSH
Все настройки сервера SSH находятся в файле /etc/ssh/sshd_config. Перед тем, как его редактировать лучше сделать резервную копию на всякий случай.
### 1. Смена порта
Откройте конфигурационный файл и найдите строчку Port, расскоментируйте её, если нужно
### 2. Отключение входа суперпользователя
Найдите строку PermitRootLogin и замените её значение на no
### 3. Авторизация по ключу
Сначала найдите строку PubkeyAuthentication и замените её значение на yes.
Раскомментировать строку AuthorizedKeysFile      .ssh/authorized_keys .ssh/authorized_keys2
### 4. Перезапустить сервис sshd
`sudo systemctl restart sshd`
